# Cursor MCP設定問題の調査依頼（簡潔版）

## 問題の概要

Cursor IDEでMCP設定が正しく認識されません：
1. チャットで`@magi`と入力すると、MCPツール（`@start_magi_magi_start_post`など）が表示されない
2. 設定UI（`Cmd + ,`）で「MCP」を検索しても、MCP設定セクションが表示されない

## 現在の状況

### ✅ 正常に動作しているもの
- MCP設定ファイル（`.cursor/mcp.json`）が正しい形式で存在
- OpenAPIスキーマ（`http://127.0.0.1:8787/openapi.json`）が正常に取得できる
- サーバーが正常に動作している

### ❌ 問題点
- MCPツールがチャットに表示されない
- MCP設定が設定UIに表示されない

## 調査依頼事項

### 1. CursorのMCP設定の仕様
- 設定ファイルの読み込み方法と優先順位
- `version`フィールドは必須か？
- `tools`ブロックと`mcpServers`ブロックの違い

### 2. OpenAPIツールの表示方法
- `@`でMCPツールが表示される条件
- `operationId`の命名規則に制約はあるか？
- エラー時の表示方法

### 3. 設定UIでの表示条件
- MCP設定セクションが表示される前提条件
- MCP機能が無効になっている可能性

### 4. バージョン要件
- MCP機能が利用可能なCursorのバージョン
- 最新の設定形式の仕様

### 5. トラブルシューティング
- デバッグ方法とログの確認方法
- よくある問題と解決方法

## 参考情報

**設定ファイル**:
```json
{
  "version": "1.0",
  "tools": {
    "magi": {
      "type": "openapi",
      "server": {"url": "http://127.0.0.1:8787"},
      "schema": "http://127.0.0.1:8787/openapi.json"
    }
  }
}
```

**環境**: macOS, Cursor IDE, FastAPI (OpenAPI 3.1.0), ポート8787

**公式ドキュメント**: https://docs.cursor.com/ja/context/mcp

## 期待される調査結果

1. 問題の原因と可能性の評価
2. 具体的な解決手順
3. 関連する公式ドキュメントやコミュニティ情報
4. 追加の確認事項


